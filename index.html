<a-scene
  vr-mode-ui="enabled: false"
  embedded
  renderer="alpha: true; antialias: true"
  arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
  device-orientation-permission-ui="enabled: true"
>
  <a-camera gps-new-camera="gpsMinDistance: 0"></a-camera>

  <script>
    window.onload = () => {
      let added = false;
      const cam = document.querySelector("[gps-new-camera]");
      cam.addEventListener("gps-camera-update-position", (e) => {
        if (added) return;
        const { latitude, longitude } = e.detail.position;

        const apple = document.createElement("a-entity");
        apple.setAttribute("gltf-model", "apple.glb");
        apple.setAttribute("scale", "500 500 500");

        // 現在地に直接表示（デバッグ用）
        apple.setAttribute("gps-new-entity-place", {
          latitude: latitude,
          longitude: longitude
        });

        apple.setAttribute("look-at", "[gps-new-camera]");
        document.querySelector("a-scene").appendChild(apple);
        added = true;
      });
    };
  </script>
</a-scene>